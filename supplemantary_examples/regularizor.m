function [L, grad] = regularizor(theta, lambda, index)L = 0;grad = zeros(size(theta));length = size(theta, 1);for i=1:length,  L += abs(theta(i)) ** index ;endfor  if (index==2)  g = theta;elseif (index==1)  g = sign(theta);else  for i=1:length,    if (theta(i)==0)      g(i) = 0;    else      g(i) = abs(theta(i)) ** (index-2) * theta(i);    endif  endforendifL *= (lambda/index);g(i) *= lambda;end